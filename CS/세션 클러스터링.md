# 세션 클러스터링

+ 세션 클러스터링은 WAS가 2대 이상 설치되어 있을 경우 동일한 세션으로 세션관리 하는 것을 의미

+ 두 대 이상의 WAS를 이용하는 경우 로드 밸런싱(대용량 트래픽 처리시 분산시키는 것),   
  또는 failover(장애 발생시 예비시스템으로 자동전환, 서버 이중화),   
  auto scaling(AWS에서 EC2 인스턴스를 자동으로 생성하고 삭제해주는 서비스) 등의   
  대체된 WAS에게도 세션이 공유하게 하는 기술

+ 예를 들면 L4 스위치를 통해 2대 이상의 WAS가 연결되어 있을 경우, 
  
  일반적으로 사용자는 접속했던 WAS로 L4 스위치가 접속을 유도해주지만 하나의 WAS에서 허용된 동접수를 초과한 접속이 발생할 경우 다른 쪽으로의 접속을 유도해 주게된다. 

  그럴 경우, 기존 WAS의 세션이 아닌 새로 접속된 WAS로 세션이 이루어지고 그럴 경우 세션에 대한 처리 불일치가 발생한다.

  그래서 각 WAS에 대한 세션을 하나의 세션으로 관리하게 함으로써   
  설사 사용자가 기존에 접속했던 WAS가 아닌 새로운 WAS로 접속하더라도    
  세션은 하나로 관리되기 때문에 세션에 대한 불일치가 발생하지 않는다.

+ 보통 세션 클러스터링은 WAS 설정으로 세팅할 수 있다.

<br>

+ ### 고려해야할 점   
    세션 정보 저장 영역을 늘리기 위해서는 JVM 의 Heap 사이즈를 늘릴 수 있지만 너무
    늘리면 ”Full GC” 처리 시간 때문에 장애요인 발생

<br>
<br>

#### reference
+ https://junshock5.tistory.com/91
+ https://brownbears.tistory.com/168